\begin{tikztimingtable}
\texttt{clk} & L12{HL}\\
\\
\timeCnrRound & D2{DD}{$i-1$} 8{DD}{$i$} 2{DD}{$i+1$} \\
\timeCnrCycle & D{7} 2D{8} 2D{9} 2D{0}2D{1}2D{2}2D{3}2D{4}2D{5}2D{6}2D{7}2D{0}2D{1} \\
\\
\AESsboxIn $[8d-1:0]$&3D{0} \cDP{$\pRK{13}{i-1}$} \cDP{$\pS{0}{i}$} \cDP{$\pS{4}{i}$}  \cDP{$\pS{8}{i}$} \cDP{$\pS{12}{i}$} 3{DD}{0} \cDP{$\pRK{13}{i}$} \cDP{$\pS{0}{i+1}$} \cDP{$\pS{4}{i+1}$}\\
\AESsboxIn $[16d-1:8d]$&3D{0} \cDP{$\pRK{14}{i-1}$} \cDP{$\pS{5}{i}$} \cDP{$\pS{9}{i}$}  \cDP{$\pS{13}{i}$} \cDP{$\pS{1}{i}$} 3{DD}{0} \cDP{$\pRK{14}{i}$} \cDP{$\pS{5}{i+1}$} \cDP{$\pS{9}{i+1}$}\\
\AESsboxIn $[24d-1:16d]$&3D{0} \cDP{$\pRK{15}{i-1}$} \cDP{$\pS{10}{i}$} \cDP{$\pS{14}{i}$}  \cDP{$\pS{2}{i}$} \cDP{$\pS{6}{i}$} 3{DD}{0} \cDP{$\pRK{15}{i}$} \cDP{$\pS{10}{i+1}$} \cDP{$\pS{14}{i+1}$}\\
\AESsboxIn $[32d-1:24d]$&3D{0} \cDP{$\pRK{12}{i-1}$} \cDP{$\pS{15}{i}$} \cDP{$\pS{3}{i}$}  \cDP{$\pS{7}{i}$} \cDP{$\pS{11}{i}$} 3{DD}{0} \cDP{$\pRK{12}{i}$} \cDP{$\pS{15}{i+1}$} \cDP{$\pS{3}{i+1}$}\\
\\
\AESsboxOut $[8d-1:0]$&D{} \cDP{$\pSB{8}{i-1}$} \cDP{$\pSB{12}{i-1}$} 3{XX} \cDP{\pRSB{0}{i}} \cDP{$\pSB{0}{i}$}\cDP{$\pSB{4}{i}$}\cDP{$\pSB{8}{i}$}\cDP{$\pSB{12}{i}$} 2{XX}\\
\AESsboxOut $[16d-1:8d]$&D{} \cDP{$\pSB{9}{i-1}$} \cDP{$\pSB{13}{i-1}$} 3{XX} \cDP{\pRSB{1}{i}} \cDP{$\pSB{1}{i}$}\cDP{$\pSB{5}{i}$}\cDP{$\pSB{9}{i}$}\cDP{$\pSB{13}{i}$} 2{XX} \\
\AESsboxOut $[24d-1:16d]$&D{} \cDP{$\pSB{10}{i-1}$} \cDP{$\pSB{14}{i-1}$} 3{XX} \cDP{\pRSB{2}{i}} \cDP{$\pSB{2}{i}$}\cDP{$\pSB{6}{i}$}\cDP{$\pSB{10}{i}$}\cDP{$\pSB{14}{i}$} 2{XX} \\
\AESsboxOut $[32d-1:24d]$&D{} \cDP{$\pSB{11}{i-1}$} \cDP{$\pSB{15}{i-1}$} 3{XX} \cDP{\pRSB{3}{i}} \cDP{$\pSB{3}{i}$}\cDP{$\pSB{7}{i}$}\cDP{$\pSB{11}{i}$}\cDP{$\pSB{15}{i}$} 2{XX} \\
\extracode
\makeatletter
\begin{pgfonlayer}{background}
    % Draw cycles
    \begin{scope}[gray,semitransparent,semithick]
        \foreach \x in {1,3,...,25}{
            \draw (\x,1.5) -- (\x,-26.5);
        }
    \end{scope}
    % Draw round
    \foreach \x in {5,21}{
        \draw [thick] (\x,2) -- (\x,-27);
    }
\end{pgfonlayer}
\end{tikztimingtable}
